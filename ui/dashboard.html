<!DOCTYPE html>
<html>
<head>
    <title>Dashboard | Renty</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>
<body>
  <h1>Welcome!</h1>
  <form name="vehicle-post" action="/api/vehicles" method="post">
    <div>
      <select name="type">
        <option value="coupe">Coupe</option>
        <option value="sedan">Sedan</option>
        <option value="suv">SUV</option>
        <option value="truck">Truck</option>
        <option value="other">Other</option>
      </select>
    </div>
    <div>
      <input type="number" name="year" placeholder="Year" required />
    </div>
    <div>
      <input type="text" name="make" placeholder="Make" required />
    </div>
    <div>
      <input type="text" name="model" placeholder="Model" required />
    </div>
    <div>
      <input type="text" name="vin" placeholder="Vin number" required/>
    </div>
    <div>
      <input type="number" name="odometer" placeholder="Odometer reading" required/>
    </div>
    <div>
      <input type="number" name="cost" placeholder="Cost per day" required/>
    </div>
    <div>
      <br/>
      <button type="button" onClick="submitForm()">Add Vehicle</button> 
    </div>
  </form>
</body>
<script type="text/javascript">
  function submitForm() {
    var form = document.getElementsByName('vehicle-post')[0];
    if (form.checkValidity()) {
      form.submit();
      form.reset();
      return false;
    } else {
      alert('Please check required fields.');
    }
  }
  function getVehicles() {
    $.ajax({
        url: 'api/vehicles',
        type: 'GET',
        error: function(xhr, status, error) {
            /* clear old error message, then display the new php error message */
            $("#divErrorMessages").empty().append(status);
            $("#divErrorMessages").append(xhr.responseText);
        },
        success: function(results) { 
            console.log(results);
        }
    });
  }

  this.getVehicles();
</script>
</html>